# Бот-Викторина
 Бот-викторина для проверки сообразительности  
 Проверяет знания и сообразительность соискателей на рабочую должность, 
 а также всех желающих. Одновременно запускается в *Telegram* и в *VK*.

# Как установить
 У вас уже должен быть установлен Python 3.
 Скачайте проект к себе.
 Установите зависимости с помощью команды в консоли:
 ```bash
 pip install requirements.txt
 ```
 ## Зарегистрируйтесь в Redis
 Для учета статистики ответов пользователей необходимо создать 
 учетную запись на [redislabs.com](https://redislabs.com/). После регистрации 
 вы получите адрес базы данных вида: 
 `redis-13965.f18.us-east-4-9.wc1.cloud.redislabs.com`, 
 его порт вида: `16635` и его пароль.  
 Эти данные нужно будет сохранить в переменных окружения.
 
 ## Подготовка переменных окружения
  В корне проекта создайте файл `.env`  и установите в нем следующие переменные:
  ```xml
  TG_BOT_TOKEN=<Токен вашего бота в Телеграм>

  VK_BOT_TOKEN=<Токен вашего бота в VK>

  REDIS_HOST=<Адрес базы данных в Redis>

  REDIS_PORT=<Порт базы данных в Redis>

  REDIS_USERNAME=<Имя пользователя в Redis(по умолчанию - default)>

  REDIS_PASSWORD=<Пароль базы данных в Redis>
  ```

# Запуск
 Для запуска телеграм бота используйте команду:
 ```bash
 python3 tg_bot.py
 ```
  Для запуска бота VK используйте команду:
 ```bash
 python3 vk_bot.py
 ```
# База вопросов
 В проекте для примера есть два файла с вопросами и ответами из разных викторин. 
 Они находятся в папке `quiz-questions` в формате `.txt`. 
 Сюда можно положить сколько угодно сходных по формату файлов с данными. 
 Нужно соблюдать два условия:
 - между вопросами и ответами (и между блоками вопрос-ответ) должна всегда быть пустая строка;
 - Вопрос должен начинаться со слова `Вопрос`, а ответ - со слова `Ответ`. 
 Имя файлов не имеет значения. Важен только формат `.txt`.

 # Для разработчика
 Весь код, в основном, собран в файлах ботов `tg_bot.py` и `vk_bot.py`.  
 База вопросов обрабатывается каждый раз при запуске ботов в `bot_utils/questions.py`.  
 Подключение к базе данных `Redis` осуществляется в `bot_utils/redis_db_connection.py`.  
 На данном этапе статистика правильных ответов не ведется. В базу записывается пара: 
 `текущий id - текущий вопрос`.

 # Цели проекта
 Проект создавался для портала [Devman](https://dvmn.org/).  
 Можно использовать для проверки сообразительности соискателей при приеме на работу. 
 Или просто для развлечения.
